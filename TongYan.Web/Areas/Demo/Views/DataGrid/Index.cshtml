@using TongYan.Web.Controls.DataGrid
@using TongYan.Web.Controls.Extensions
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title table-condensed">复杂表头表格</h3>
            </div>
            <div class="panel-body">
                @(
    Html.Control().Grid("dataAttr").Highlight().ClassName("table-lilac").Features(x =>
    {
        x.AutoWidth = false;
        x.ServerSide = true;
        x.Processing = true;
    }).Data(x =>
    {
        x.Ajax.Url = "DataGrid/GetData";
    }).ColumnsProvider(new TongYan.Web.Controls.DataGrid.Providers.JsonGridColumnsProvider(), "Test")
                )
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>
        $(function () {
            $("#example1").DataTable();

            $('#example2').DataTable({
                "processing": true,
                "serverSide": true,
                "ajax": {
                    url: "DataGrid/GetData",
                    type: "post"
                },
                "columns": [
                    { "data": "UserName", title: 'Use name' },
                    { "data": "FullName", title: 'Full name' },
                    { "data": "DptName", title: 'Department name', className: 'text-center' },
                    { "data": "Gender", title: 'Gender' },
                    { "data": "Tel", title: 'Use name' }
                ]
            });

            $("#dataAttr").tyDataTable();
        })
    </script>
}
